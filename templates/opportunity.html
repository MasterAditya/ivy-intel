{% extends "base.html" %}

{% block title %}{{ opportunity.title }} - Opportunity{% endblock %}

{% block hero %}
<div class="bg-gradient-to-r 
    {% if opportunity.domain == 'AI' %}from-purple-700 via-pink-700 to-rose-700
    {% elif opportunity.domain == 'Law' %}from-blue-700 via-cyan-700 to-teal-700
    {% elif opportunity.domain == 'Biomedical' %}from-green-700 via-emerald-700 to-teal-700
    {% elif opportunity.domain == 'Engineering' %}from-orange-600 via-amber-600 to-yellow-600
    {% else %}from-slate-700 via-gray-700 to-zinc-700{% endif %} text-white py-12">
    <div class="max-w-4xl mx-auto px-4">
        <div class="flex flex-wrap items-start justify-between gap-4">
            <div>
                <span class="inline-block px-4 py-1 bg-white/20 rounded-full text-sm mb-3 backdrop-blur">{{ opportunity.university }}</span>
                <h1 class="text-3xl font-bold mb-2">{{ opportunity.title }}</h1>
                <p class="text-white/80">ğŸ“… Posted: {{ opportunity.posted_date }}</p>
            </div>
            <span class="px-4 py-2 bg-white text-gray-800 rounded-full font-semibold">{{ opportunity.domain }}</span>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto -mt-6 relative z-10">
    <div class="grid md:grid-cols-3 gap-6">
        <!-- Main Content -->
        <div class="md:col-span-2">
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h3 class="font-semibold text-slate-700 mb-3 flex items-center">
                    <span class="mr-2">ğŸ“‹</span> Description
                </h3>
                <p class="text-gray-600 leading-relaxed">{{ opportunity.description }}</p>
            </div>
            
            <div class="bg-gradient-to-r from-slate-800 to-slate-900 text-white rounded-xl p-6">
                <h3 class="font-semibold mb-3">ğŸ“ About {{ opportunity.university }}</h3>
                <p class="text-slate-300 text-sm">One of the most prestigious Ivy League institutions, offering world-class education and research opportunities.</p>
            </div>
        </div>
        
        <!-- Application Form -->
        <div>
            <div class="bg-white rounded-xl shadow-lg p-6 sticky top-24">
                <h3 class="text-xl font-bold text-slate-800 mb-4 flex items-center">
                    <span class="mr-2">ğŸ“</span> Apply Now
                </h3>
                <form action="/apply/{{ opportunity.id }}" method="post" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Select Your Profile</label>
                        <select name="student_id" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="">-- Choose Student --</option>
                            {% for student in students %}
                            <option value="{{ student.id }}">{{ student.name }} ({{ student.domain_interest }})</option>
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="w-full px-4 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl">
                        ğŸš€ Submit Application
                    </button>
                </form>
                <p class="mt-4 text-xs text-gray-500 text-center">Your profile information will be automatically submitted with this application.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
